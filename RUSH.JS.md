# Полный список команд **Rush.js**

## 1. Установка и базовые команды

Эти команды помогают установить Rush и получить основную информацию о нем.

- **Установка Rush.js глобально**  
  Установите Rush.js на ваш компьютер:

```
  npm install -g @microsoft/rush
```

- **Просмотр версии Rush**  
  Показывает текущую версию установленного Rush:

```
  rush -v
```

- **Просмотр справки**  
  Показывает справочную информацию по всем доступным командам Rush:

```
  rush -h
```

## 2. Управление зависимостями

Эти команды помогают управлять зависимостями в монорепозитории.

- **Установка/обновление зависимостей**  
  Устанавливает или обновляет зависимости для всех проектов в репозитории:

```
  rush update
```

- **Полное обновление зависимостей**  
  Выполняет полное обновление зависимостей, игнорируя кэш:

```
  rush update --full
```

- **Проверка зависимостей**  
  Проверяет, корректно ли установлены зависимости, и выводит ошибки:

```
  rush check
```

- **Добавление пакета в проект**  
  Добавляет новый пакет в проект и автоматически обновляет зависимости:

```
  rush add --package <имя_пакета>
```

- **Удаление пакета из проекта**  
  Удаляет пакет из проекта:

```
  rush remove <имя_пакета>
```

- **Интерактивное обновление зависимостей**  
  Позволяет интерактивно обновлять зависимости с выбором версий:

```
  rush upgrade-interactive
```

## 3. Сборка и разработка проектов

Эти команды помогают в сборке и разработке проектов в монорепозитории.

- **Сборка всех проектов**
  Выполняет сборку всех проектов в зависимости от их связей:

```

rush build
```

- **Очистка и полная сборка**
  Полностью пересобирает все проекты, очищая старые артефакты:

```
rush rebuild
```

- **Сборка конкретного проекта**
  Выполняет сборку только указанного проекта:

```
rush rebuild --to <имя_проекта>
```

- **Сборка всех зависимых проектов**  
  Выполняет сборку всех проектов, которые зависят от указанного:

```
  rush rebuild --from <имя_проекта>
```

- **Работа над проектом**
  Для запуска команд внутри конкретного проекта (например, для запуска скриптов из `package.json`):

```

cd ./<папка_проекта>
rushx <команда>
```

## 4. Работа с Git и CI/CD

Эти команды используются для интеграции с Git и работы в CI/CD.

- **Создание файла изменений (change file)**
  Создает файл с описанием изменений для версионирования проекта:

```
rush change
```

- **Создание релиза (release)**
  Генерирует версии для проектов и публикует их:

```
rush publish
```

## 5. Оптимизация и обслуживание репозитория

Эти команды помогают оптимизировать работу репозитория и управлять кэшем.

- **Очистка кэша**
  Удаляет кеш сборки для всех проектов:

```
rush purge
```

- **Синхронизация кэша с облаком**
  Синхронизирует локальный кэш с облачным сервисом для ускорения сборок в CI:

```
rush install-cloud
```

- **Проверка устаревших зависимостей**
  Показывает, какие зависимости устарели и требуют обновления:

```
pnpm outdated
```

## 6. Примеры сценариев использования

Примеры типичных рабочих сценариев.

- **Вытягивание последних изменений и обновление зависимостей**
  Обновление зависимостей после получения последних изменений из репозитория:

```
git pull
rush update
```

- **Добавление новой зависимости в проект**
  Добавление новой зависимости и синхронизация с остальными проектами:

```
cd apps/my-app
rush add --package example-lib
```

- **Полная пересборка всех проектов**
  Полная пересборка после значительных изменений в коде или зависимостях:

```
rush rebuild
```

- **Обновление всех проектов до одной версии зависимости**
  Обновление зависимости во всех проектах до одной версии:

```
rush add --package example-lib@1.2.3 --make-consistent
```

## Когда использовать команды

- **rush update** — при каждом изменении зависимостей или после обновления репозитория.
- **rush check** — для проверки согласованности зависимостей.
- **rush rebuild** — после важных изменений в коде или зависимостях для полной пересборки.
- **rush add/rush remove** — для добавления или удаления пакетов в проектах.
